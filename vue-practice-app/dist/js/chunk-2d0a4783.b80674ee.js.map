{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?a27a"],"names":["class","for","value","loading","request","title","back","fio","phone","currency","amount","type","status","name","id","remove","hasChanges","update","setup","route","router","store","params","dispatch","push","components","AppStatus","AppLoader","AppPage","render"],"mappings":"2IAIO,eAA8B,cAAtB,iBAAa,G,EACrB,eAAwB,cAAhB,WAAO,G,EACf,eAAsB,cAAd,SAAK,G,EACb,eAAuB,cAAf,UAAM,G,iBAAS,M,GAIrBA,MAAM,gB,EACT,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAExB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SAQ9BF,MAAM,0B,8HAxBC,EAAAG,S,iBAAlB,eAAwC,YAEnB,EAAAC,S,iBAArB,eAoBW,G,MApBmBC,MAAM,SAASC,KAAA,I,yBAC3C,iBAAwD,CAAxD,eAAwD,UAArD,E,eAA8B,KAAE,eAAG,EAAAF,QAAQG,KAAG,KACjD,eAAoD,UAAjD,E,eAAwB,KAAE,eAAG,EAAAH,QAAQI,OAAK,KAC7C,eAA6D,UAA1D,E,eAAsB,KAAE,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACrD,eAEI,UAFD,E,EACD,eAAgD,GAAnCC,KAAM,EAAAP,QAAQQ,Q,mBAG7B,eAQM,MARN,EAQM,CAPJ,E,eACA,eAKS,UALDC,KAAK,SAASC,GAAG,S,qDAAkB,EAAAF,OAAM,K,CAC/C,EACA,EACA,EACA,G,cAJyC,EAAAA,YAQ7C,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAe,QAAA,EAAAA,OAAA,sBAAQ,WACO,EAAAC,Y,iBAAlD,eAA+E,U,MAAvEhB,MAAM,cAAe,QAAK,8BAAE,EAAAiB,QAAA,EAAAA,OAAA,sBAA0B,a,mDAGhE,eAEK,KAFL,EAA0C,kBAC1B,eAAG,EAAAH,IAAK,SACxB,I,gHAYa,GACbI,MADa,WAEX,IAAMC,EAAQ,iBACRC,EAAS,iBACTC,EAAQ,iBAERlB,EAAU,gBAAI,GACdC,EAAU,iBACVQ,EAAS,iBACTE,EAAKK,EAAMG,OAAOR,GAExB,eAAS,wCAAC,qGACRX,EAAQD,OAAQ,EADR,SAGcmB,EAAME,SAAS,mBAAoBT,GAHjD,OAGRV,EAAQF,MAHA,OAIRU,EAAOV,MAAQE,EAAQF,MAAMU,OAE7BT,EAAQD,OAAQ,EANR,4CASV,IAAMc,EAAa,gBAAS,kBAAMZ,EAAQF,MAAMU,SAAWA,EAAOV,SAE5Da,EAAK,yDAAI,8GACPM,EAAME,SAAS,iBAAkBT,GAD1B,OAEbM,EAAOI,KAAK,KAFC,2CAAJ,qDAKLP,EAAK,yDAAI,8GACPI,EAAME,SAAS,iBAAf,iCAAqCnB,EAAQF,OAA7C,IAAoDU,OAAQA,EAAOV,MAAOY,QADnE,OAEbV,EAAQF,MAAMU,OAASA,EAAOV,MAFjB,2CAAJ,qDAKX,MAAO,CACLC,UACAC,UACAU,KACAF,SACAI,aACAP,SAAA,OACAM,SACAE,WAGJQ,WAAY,CAACC,YAAA,KAAWC,YAAA,KAAWC,UAAA,OC/ErC,EAAOC,OAASA,EAED","file":"js/chunk-2d0a4783.b80674ee.js","sourcesContent":["<template>\r\n  <app-loader v-if=\"loading\"></app-loader>\r\n\r\n  <app-page v-else-if=\"request\" title=\"Заявка\" back>\r\n    <p><strong>Имя владельца</strong>: {{ request.fio }}</p>\r\n    <p><strong>Телефон</strong>: {{ request.phone }}</p>\r\n    <p><strong>Сумма</strong>: {{ currency(request.amount) }}</p>\r\n    <p><strong>Статус</strong>:\r\n      <app-status :type=\"request.status\"></app-status>\r\n    </p>\r\n\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Статус</label>\r\n      <select name=\"status\" id=\"status\" v-model=\"status\">\r\n        <option value=\"done\">Завершен</option>\r\n        <option value=\"cancelled\">Отменен</option>\r\n        <option value=\"active\">Активен</option>\r\n        <option value=\"pending\">Выполняется</option>\r\n      </select>\r\n    </div>\r\n\r\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n    <button class=\"btn primary\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\r\n  </app-page>\r\n\r\n  <h3 v-else class=\"text-center text-white\">\r\n    Заявки с ID = {{ id }} нет.\r\n  </h3>\r\n</template>\r\n\r\n<script>\r\nimport AppPage from '@/components/ui/AppPage'\r\nimport {useRoute, useRouter} from 'vue-router'\r\nimport {computed, onMounted, ref} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport AppLoader from '@/components/ui/AppLoader'\r\nimport AppStatus from '@/components/ui/AppStatus'\r\nimport {currency} from '@/utils/currency-formatter'\r\n\r\nexport default {\r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const store = useStore()\r\n\r\n    const loading = ref(false)\r\n    const request = ref()\r\n    const status = ref()\r\n    const id = route.params.id\r\n\r\n    onMounted(async () => {\r\n      loading.value = true\r\n\r\n      request.value = await store.dispatch('request/loadById', id)\r\n      status.value = request.value.status\r\n\r\n      loading.value = false\r\n    })\r\n\r\n    const hasChanges = computed(() => request.value.status !== status.value)\r\n\r\n    const remove = async () => {\r\n      await store.dispatch('request/remove', id)\r\n      router.push('/')\r\n    }\r\n\r\n    const update = async () => {\r\n      await store.dispatch('request/update', {...request.value, status: status.value, id})\r\n      request.value.status = status.value\r\n    }\r\n\r\n    return {\r\n      loading,\r\n      request,\r\n      id,\r\n      status,\r\n      hasChanges,\r\n      currency,\r\n      remove,\r\n      update\r\n    }\r\n  },\r\n  components: {AppStatus, AppLoader, AppPage}\r\n}\r\n</script>\r\n","import { render } from \"./Request.vue?vue&type=template&id=2243de1c\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}